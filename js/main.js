let cardArray=[{name:"console",img:"img/console.jpg"},{name:"mushroom",img:"img/mushroom.jpg"},{name:"nintendo",img:"img/nintendo.jpg"},{name:"playstation",img:"img/playstation.jpg"},{name:"signal",img:"img/signal.jpg"},{name:"super",img:"img/super.jpg"}],cardArrayDouble=cardArray.concat(cardArray),board=document.querySelector(".memory-game");function createBoard(e,t){shuffle(t),t.forEach(t=>{let i=document.createElement("div");i.setAttribute("class","memory-card"),i.setAttribute("data-id",t.name),e.appendChild(i);let r=document.createElement("div");r.setAttribute("class","front-face"),i.appendChild(r);let n=document.createElement("img");n.setAttribute("src",t.img),r.appendChild(n);let c=document.createElement("div");c.setAttribute("class","back-face"),i.appendChild(c);let a=document.createElement("img");a.setAttribute("src","img/tetris.jpg"),c.appendChild(a)})}createBoard(board,cardArrayDouble);let counting,cards=Array.from(document.querySelectorAll(".memory-card")),firstClick=void 0,nextClick=void 0,lockClick=!1,flips=0,count=100,counterStart=!1,finishedGame=0;function gameClick(){this!==firstClick&&(lockClick||(counterStart||timeCounter(),flips++,document.getElementById("flips").innerHTML=flips,this.classList.toggle("card-flipped"),void 0!==firstClick?(nextClick=this,firstClick.dataset.id===nextClick.dataset.id?match():newRound()):firstClick=this))}function match(){console.log("hej från match"),firstClick.removeEventListener("click",gameClick),nextClick.removeEventListener("click",gameClick),[firstClick,nextClick]=[void 0,void 0],finishedGame++,6===finishedGame&&clearInterval(counting)}function newRound(){console.log("hej från new round"),lockClick=!0,setTimeout((function(){firstClick.classList.remove("card-flipped"),nextClick.classList.remove("card-flipped"),[firstClick,nextClick]=[void 0,void 0],lockClick=!1}),1e3)}function resetGame(){document.location.href=""}function timeCounter(){counterStart=!0,counting=setInterval((function(){count>0?(count--,document.getElementById("time-remaining").innerHTML=count):(clearInterval(counting),document.getElementById("times-up").style.display="block",lockClick=!0)}),1e3)}function shuffle(e,t){if(!Array.isArray(e))throw new Error("shuffle expect an array as parameter.");t=t||{};var i,r,n=e,c=e.length,a=t.rng||Math.random;for(!0===t.copy&&(n=e.slice());c;)i=Math.floor(a()*c),r=n[c-=1],n[c]=n[i],n[i]=r;return n}cards.forEach(e=>e.addEventListener("click",gameClick)),shuffle.pick=function(e,t){if(!Array.isArray(e))throw new Error("shuffle.pick() expect an array as parameter.");var i=(t=t||{}).rng||Math.random,r=t.picks||1;if("number"==typeof r&&1!==r){for(var n,c=e.length,a=e.slice(),o=[];r&&c;)n=Math.floor(i()*c),o.push(a[n]),a.splice(n,1),c-=1,r-=1;return o}return e[Math.floor(i()*e.length)]};